---

- stream:
    name: openstack
    module: rallyci.streams.gerrit
    ssh:
      username: CHANGEME
      hostname: review.openstack.org
      key: /home/CHANGEME/ci-key
    vote: false
    comment-header: |
      Build {succeeded} by RallyCI. Use "my-ci recheck" to recheck
    comment-job-template: "- {name} http://example.com/{log_path}/ : {success} in {time}"
    recheck-regexp: ^my-ci recheck$

- service:
    name: http_status
    module: rallyci.status.http
    listen: [0.0.0.0, 8080]

- service:
    name: metadata
    module: rallyci.services.metadata
    listen: [169.254.169.254, 8081]

- nodepool:
    name: test
    module: rallyci.nodepools.fair
    tasks_per_node: 4
    nodes:
      - hostname: localhost
        username: root
        key: /home/user/ci-key

- runner:
    name: fake
    module: rallyci.runners.fake
    sleep-run: [1, 2]

- job:
    name: noop
    runner:
      name: fake

- project:
    name: openstack-dev/ci-sandbox
    jobs:
      - noop
